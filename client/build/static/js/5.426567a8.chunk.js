(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{196:function(e,a,t){"use strict";t.r(a);var r=t(3),n=t(32),l=t(2),c=t(195),o=t(16),s=t(0),i=t.n(s);var d=t(81),m=t(74),u=t(8),p=t.n(u),b=t(14),f=t(30),g=t(12),v=t(29),E=t(100),h=t(68),y=t.n(h),w=t(15),N=t(31),O=t.n(N);function j(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({name:"",description:"",price:"",code:"",quantityInCase:"",inventory:"",uom:"",upc:"",productVariantImage:"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addVariant").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),l(!0),n=d.errors,y(n),c=0,o=Object.values(d.errors);case 5:if(!(c<o.length)){t.next=13;break}if(!o[c]){t.next=10;break}return setTimeout((function(){return l(!1)}),2e3),t.abrupt("return");case 10:c++,t.next=5;break;case 13:delete d.errors,a("#addVariant").modal("toggle"),e.toggleModal(!1),e.productVariants([d]);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},h=function(e){46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault();var a=e.target,t=a.name,r=a.value,n=d.errors;n[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:n},t,r))}))},y=function(e){var a=d.name,t=d.price,r=d.code,n=d.productVariantImage,l=d.description;for(var c in d)"name"===c&&a.length<=3&&(e.name="variant name must be more than 3 characters long!"),"description"===c&&l.length<=3&&(e.description="description must be more than 3 characters long!"),"price"===c&&(t.length||(e.price="price cannot be empty")),"code"===c&&(r.length||(e.code="code cannot be empty")),"productVariantImage"===c&&(n||(e.productVariantImage="kindly upload an Image"));m((function(a){return Object(g.a)(Object(g.a)({},a),{},{errors:e})}))},w=d.errors;return e.toggleModal?i.a.createElement("div",{id:"addVariant",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"ADD PRODUCT VARIANT"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{type:"text",onChange:E,name:"name",className:"form-control form_name",placeholder:"Name",required:!0}),w.name&&w.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},w.name)),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{type:"text",onKeyPress:h,name:"price",className:"form-control form_name",placeholder:"Price",required:!0}),w.price&&w.price.length>0&&i.a.createElement("span",{className:"addGroup__error"},w.price))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{type:"text",onChange:E,name:"code",className:"form-control form_name",placeholder:"Code",required:!0}),w.code&&w.code.length>0&&i.a.createElement("span",{className:"addGroup__error"},w.code)),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{type:"text",onKeyPress:h,name:"inventory",className:"form-control form_name",id:"validationCustom01",placeholder:"Inventory",required:!0}))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",style:{paddingLeft:"0px"}},"Product Variant Image"),i.a.createElement("input",{type:"file",name:"productVariantImage",multiple:!0,onChange:E,className:"dropify","data-height":"150","data-allowed-file-extensions":"jpg png jpeg","data-max-file-size":"500K"}),w.productVariantImage&&w.productVariantImage.length>0&&i.a.createElement("span",{className:"addGroup__error"},w.productVariantImage)),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",style:{paddingLeft:"0px"}},"Description"),i.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",onChange:E,name:"description",rows:"7"}),w.description&&w.description.length>0&&i.a.createElement("span",{className:"addGroup__error"},w.description))),i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("h5",null,"Sub Unit"),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{type:"text",onKeyPress:h,name:"inventory",className:"form-control form_name",placeholder:"Quantity In Case",required:!0})),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{type:"text",onChange:E,name:"code",className:"form-control form_name",placeholder:"UOM",required:!0}))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{type:"text",onChange:E,name:"upc",className:"form-control form_name",placeholder:"UPC",required:!0}))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Adding Variant ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Add Variant"))))):""}function x(e){var a=e.productVariant,t=window.$,r=Object(s.useState)(!1),n=Object(v.a)(r,2),l=n[0],c=n[1],o=Object(s.useState)({name:a.name,description:a.description,price:a.price,code:a.code,quantityInCase:a.quantityInCase,inventory:a.inventory,uom:a.uom,upc:a.upc,productVariantImage:a.productVariantImage,_id:a._id,errors:{}}),d=Object(v.a)(o,2),m=d[0],u=d[1];Object(s.useEffect)((function(){window.$("#editProductVariant").modal("show"),t(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var E=function(){var r=Object(b.a)(p.a.mark((function r(n){var l,o,s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n.preventDefault(),c(!0),l=m.errors,w(l),o=0,s=Object.values(m.errors);case 5:if(!(o<s.length)){r.next=13;break}if(!s[o]){r.next=10;break}return setTimeout((function(){return c(!1)}),2e3),r.abrupt("return");case 10:o++,r.next=5;break;case 13:delete m.errors,e.toggleModal(!1),t("#editProductVariant").modal("toggle"),e.updateVariant(a.id,m);case 17:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),h=function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=m.errors;l[t]="",u((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},y=function(e){46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault();var a=e.target,t=a.name,r=a.value,n=m.errors;n[t]="",u((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:n},t,r))}))},w=function(e){var a=m.name,t=m.price,r=m.code,n=m.productVariantImage,l=m.description;for(var c in m)"name"===c&&a.length<=3&&(e.name="variant name must be more than 3 characters long!"),"description"===c&&l.length<=3&&(e.description="description must be more than 3 characters long!"),"price"===c&&(t.length||(e.price="price cannot be empty")),"code"===c&&(r.length||(e.code="code cannot be empty")),"productVariantImage"===c&&(n||(e.productVariantImage="kindly upload an Image"));u((function(a){return Object(g.a)(Object(g.a)({},a),{},{errors:e})}))},N=m.errors,O=m.name,j=m.price,x=m.code,k=m.inventory,C=m.quantityInCase,I=m.uom,S=m.upc,_=m.description;return e.toggleModal?i.a.createElement("div",{id:"editProductVariant",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Edit ",a.name),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{value:O,type:"text",onChange:h,name:"name",className:"form-control form_name",placeholder:"Name",required:!0}),N.name&&N.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},N.name)),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{defaultValue:j,type:"text",onKeyPress:y,name:"price",className:"form-control form_name",placeholder:"Price",required:!0}),N.price&&N.price.length>0&&i.a.createElement("span",{className:"addGroup__error"},N.price))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{value:x,type:"text",onChange:h,name:"code",className:"form-control form_name",placeholder:"Code",required:!0}),N.code&&N.code.length>0&&i.a.createElement("span",{className:"addGroup__error"},N.code)),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{defaultValue:k,type:"text",onKeyPress:y,name:"inventory",className:"form-control form_name",id:"validationCustom01",placeholder:"Inventory",required:!0}))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",style:{paddingLeft:"0px"}},"Product Variant Image"),i.a.createElement("input",{type:"file",name:"productVariantImage","data-default-file":"".concat("http://178.62.39.33/","/").concat(m.productVariantImage),onChange:h,className:"dropify","data-height":"150","data-allowed-file-extensions":"jpg png jpeg","data-max-file-size":"500K"}),N.productVariantImage&&N.productVariantImage.length>0&&i.a.createElement("span",{className:"addGroup__error"},N.productVariantImage)),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",style:{paddingLeft:"0px"}},"Description"),i.a.createElement("textarea",{value:_,className:"form-control",id:"exampleFormControlTextarea1",onChange:h,name:"description",rows:"7"}),N.description&&N.description.length>0&&i.a.createElement("span",{className:"addGroup__error"},N.description))),i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("h5",null,"Sub Unit"),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{value:C,type:"text",onChange:h,name:"quantityInCase",className:"form-control form_name",placeholder:"Quantity In Case",required:!0})),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{value:I,type:"text",onChange:h,name:"uom",className:"form-control form_name",placeholder:"UOM",required:!0}))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("input",{value:S,type:"text",onChange:h,name:"upc",className:"form-control form_name",placeholder:"UPC",required:!0}))))),i.a.createElement("div",{className:"modal-footer"},l?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Updating Product Variant ....."):i.a.createElement("button",{type:"button",onClick:E,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Update Product Variant"))))):""}var k=t(72);function C(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({file:"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o,s,i,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in r.preventDefault(),n=d.file,l(!0),c=d.errors,d)"file"===o&&(n.length||(c.file="kindly upload a csv file"));for(s=0,i=Object.values(d.errors);s<i.length;s++)i[s]&&l(!1);return m((function(e){return Object(g.a)(Object(g.a)({},e),{},{errors:c})})),delete d.errors,(u=new FormData).append("file",n[0]),t.next=12,Object(w.z)(u);case 12:"success"===t.sent.status&&(O.a.success("variants uploaded"),a("#addGroup").modal("toggle"),e.toggleModal(!1)),console.log("data ");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[{productId:"WrSLV84lEQamss0vgd",name:"milo",description:"a nourishing beverage for you and your family",price:200,code:"MIL123",quantityInCase:40,inventory:500,uom:"",upc:""}],t={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,title:"Variant Sample",useTextFile:!1,useBom:!0,filename:"Variant CSV",useKeysAsHeaders:!0},new k.ExportToCsv(t).generateCsv(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=d.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Upload Variants By CSV"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("p",null,"Kindly click ",i.a.createElement("a",{href:"#",onClick:E},"here")," for a sample upload"),i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"CSV file"),i.a.createElement("input",{type:"file",name:"file",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},className:"dropify","data-height":"90","data-allowed-file-extensions":"csv","data-max-file-size":"500K"}),h.file&&h.file.length>0&&i.a.createElement("span",{className:"addGroup__error"},h.file))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Uploading  Csv ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Upload Csv"))))):""}function I(){var e=window.$;Object(s.useEffect)((function(){e(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var a=Object(s.useState)(!1),t=Object(v.a)(a,2),r=t[0],c=(t[1],Object(s.useState)([])),o=Object(v.a)(c,2),u=o[0],h=o[1],N=Object(s.useState)([]),k=Object(v.a)(N,2),I=k[0],S=k[1],_=Object(s.useState)(!1),V=Object(v.a)(_,2),T=V[0],G=V[1],D=Object(s.useState)({name:"",description:"",productTypeId:[],productType:"",categoryId:[],category:"",productVariants:[],productImage:"",errors:{}}),L=Object(v.a)(D,2),P=L[0],M=L[1],F=Object(s.useState)(!1),U=Object(v.a)(F,2),A=U[0],$=U[1],B=Object(s.useState)([]),R=Object(v.a)(B,2),q=R[0],z=R[1],K=Object(s.useState)(!1),Y=Object(v.a)(K,2),X=Y[0],H=Y[1],Q=Object(s.useState)(!1),W=Object(v.a)(Q,2),J=W[0],Z=W[1],ee=I.map((function(e){return{value:e.name,label:e.name,id:e._id}})),ae=u.map((function(e){return{value:e.name,label:e.name,id:e._id}})),te=function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=P.errors;l[t]="",M((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},re=function(){var e=Object(b.a)(p.a.mark((function e(a){var t,r,n,l,c,o,s,i,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),G(!0),t=P.errors,ne(t),r=0,n=Object.values(P.errors);case 5:if(!(r<n.length)){e.next=13;break}if(!n[r]){e.next=10;break}return G(!1),e.abrupt("return");case 10:r++,e.next=5;break;case 13:if(delete P.errors,(l=P.productVariants).length){e.next=19;break}return O.a.error("Kindly add product variants"),G(!1),e.abrupt("return");case 19:for(c=[],l.forEach((function(e){c.push(e.productVariantImage[0])})),o=[P.productImage[0]].concat(c),(s=new FormData).append("name",P.name),s.append("description",P.description),s.append("productTypeId",P.productTypeId),s.append("productType",P.productType),s.append("categoryId",P.categoryId),s.append("category",P.category),s.append("productVariants",JSON.stringify(P.productVariants)),s.append("fileCount",P.productImage.length),i=0;i<o.length;i++)s.append("file",o[i]);return e.next=34,Object(w.b)(s);case 34:d=e.sent,G(!1),d&&"Success"===d.status?(O.a.success("Product Created Successfully"),G(!1)):O.a.error("Product Created Failed");case 37:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ne=function(e){var a=P.name,t=P.description,r=P.productTypeId,n=P.categoryId,l=P.productImage;P.productVariants;for(var c in P)"name"===c&&a.length<=3&&(e.name="variant name must be more than 3 characters long!"),"description"===c&&t.length<=3&&(e.description="description of product must be more than 3 characters long!"),"productTypeId"===c&&(r.length||(e.productTypeId="product type can't be empty")),"categoryId"===c&&(n.length||(e.categoryId="category can't be empty")),"productImage"===c&&(l||(e.productImage="kindly upload an Image"));M((function(a){return Object(g.a)(Object(g.a)({},a),{},{errors:e})}))},le=function(e,a){var t=P.productVariants;if(a){var r=t.findIndex((function(a){return a.id===e}));t[r].name=a.name,t[r].price=a.price,t[r].code=a.code,t[r].quantityInCase=a.quantityInCase,t[r].inventory=a.inventory,t[r].uom=a.uom,t[r].upc=a.upc,t[r].description=a.description,M((function(e){return Object(g.a)(Object(g.a)({},e),{},{productVariants:t})}))}else H(!0),z(t[e])},ce=P.errors,oe=P.productVariants;return r?i.a.createElement(l.a,{to:"/products"}):i.a.createElement("div",{className:"main-content"},i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"page-title-box d-flex align-items-center justify-content-between sticky"},i.a.createElement("h4",{className:"mb-0 font-size-18"},"Add a Prouct"),i.a.createElement("div",{className:"page-title-right"},i.a.createElement("div",{className:"btn-group",role:"group"},T?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",height:"37px",opacity:"0.4",marginRight:"10px"}},"Add Product ....."):i.a.createElement("button",{type:"button",onClick:re,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",height:"37px",marginRight:"10px"}},"Add Product"),i.a.createElement("div",{className:"dropdown d-inline-block ml-2"},i.a.createElement("button",{type:"button",className:"btn btn-outline-secondary dropdown-toggle",id:"page-header-user-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.createElement("span",{className:"d-none d-sm-inline-block ml-1"},"Action"),i.a.createElement("i",{className:"mdi mdi-chevron-down d-none d-sm-inline-block"})),i.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},i.a.createElement(n.b,{to:"/products/list",className:"dropdown-item"},"Product List"),i.a.createElement("a",{href:"#",onClick:function(){Z(!0)},className:"dropdown-item"},"Upload Product Var Csv")))))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body",style:{padding:"4.25rem"}},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Product Name"),i.a.createElement("input",{type:"text",onChange:te,name:"name",className:"form-control",id:"colFormLabel"}),ce.name&&ce.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},ce.name))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Product Description"),i.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",onChange:te,name:"description",rows:"3"}),ce.description&&ce.description.length>0&&i.a.createElement("span",{className:"addGroup__error"},ce.description))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Product Image"),i.a.createElement("input",{type:"file",multiple:!0,name:"productImage",onChange:te,className:"dropify","data-height":"150","data-allowed-file-extensions":"jpg png jpeg","data-max-file-size":"500K"}),ce.productImage&&ce.productImage.length>0&&i.a.createElement("span",{className:"addGroup__error"},ce.productImage))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Product Type"),i.a.createElement(E.a,{value:{label:P.productType||"Product Type"},onMenuOpen:Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.g)();case 2:a=e.sent,S(a.data);case 4:case"end":return e.stop()}}),e)}))),onChange:function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M((function(e){return e.errors.productTypeId="",Object(g.a)(Object(g.a)({},e),{},{productTypeId:a.id,productType:a.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),options:ee,name:"productTypeId"}),ce.productTypeId&&ce.productTypeId.length>0&&i.a.createElement("span",{className:"addGroup__error"},ce.productTypeId)),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Category"),i.a.createElement(E.a,{value:{label:P.category||"Category"},onMenuOpen:Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.e)();case 2:a=e.sent,h(a.data);case 4:case"end":return e.stop()}}),e)}))),onChange:function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M((function(e){return e.errors.categoryId="",Object(g.a)(Object(g.a)({},e),{},{categoryId:a.id,category:a.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),options:ae,name:"categoryId"}),ce.categoryId&&ce.categoryId.length>0&&i.a.createElement("span",{className:"addGroup__error"},ce.categoryId))),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:function(e){$(!0)},className:"btn btn-success waves-effect waves-light",style:{float:"right"}}," ",i.a.createElement("i",{className:"bx bx-plus"})," Add Variant "),ce.productVariants&&ce.productVariants.length>0&&i.a.createElement("span",{className:"addGroup__error"},ce.productVariants),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),oe.length?i.a.createElement("div",{className:"col-xl-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table table-borderless mb-0"},i.a.createElement("thead",{className:"thead-light"},i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Variant Name"),i.a.createElement("th",null,"Code"),i.a.createElement("th",null,"Price"),i.a.createElement("th",null))),i.a.createElement("tbody",null,oe.map((function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("th",{scope:"row"},a+1),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.code),i.a.createElement("td",null,e.price),i.a.createElement("td",{style:{float:"right"}},i.a.createElement("a",{onClick:function(){return le(a)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-edit","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"edit"}))),i.a.createElement("td",{style:{float:"right"}},i.a.createElement("a",{onClick:function(){return function(e){var a=P.productVariants;y.a.fire({title:"Are you sure?",text:"You will not be able to recover this product variant!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((function(t){if(t.value){var r,n=Object(d.a)(a);try{for(n.s();!(r=n.n()).done;){r.value;a.splice(e,1)}}catch(l){n.e(l)}finally{n.f()}M((function(e){return Object(g.a)(Object(g.a)({},e),{},{productVariants:a})}))}}))}(e.id)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-trash","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"remove"}))))})))))))):"",i.a.createElement("br",null),i.a.createElement("br",null)))))))),A?i.a.createElement(j,{toggleModal:function(e){$(e)},productVariants:function(e){e=e||[];var a=P.productVariants;a.length?(e=e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{id:a.length-1})})),a=[].concat(Object(m.a)(a),Object(m.a)(e))):a=e,M((function(e){return Object(g.a)(Object(g.a)({},e),{},{productVariants:a})}))}}):"",X?i.a.createElement(x,{toggleModal:function(e){H(e)},productVariant:q,updateVariant:le}):"",J?i.a.createElement(C,{toggleModal:function(e){Z(e)}}):"")}var S=t(18),_=t(69),V=t.n(_);function T(e){var a=window.$,t=Object(S.b)().user,r=Object(s.useState)(!1),n=Object(v.a)(r,2),l=n[0],c=n[1],o=Object(s.useState)({name:"",errors:{name:""}}),d=Object(v.a)(o,2),m=d[0],u=d[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show")}),[]);var E=function(){e.toggleModal(!1)},h=function(){var r=Object(b.a)(p.a.mark((function r(n){var l;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c(!0),n.preventDefault(),!((l=m.name).length>2)){r.next=14;break}return t[0].church_group,r.next=7,Object(w.a)({name:l});case 7:c(!1),a(".form_name").val(""),O.a.success("category added successfully"),a("#addGroup").modal("toggle"),e.toggleModal(!1),r.next=16;break;case 14:O.a.error("name of category is empty"),c(!1);case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),y=m.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"ADD A CATEGORY"),i.a.createElement("button",{type:"button",onClick:function(){return E()},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"Name of Category"),i.a.createElement("input",{type:"text",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=m.errors;switch(t){case"name":n.name=r.length<=2?" name of category must be more than 2 characters long!":""}u((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:n},t,r))}))},name:"name",className:"form-control form_name",id:"validationCustom01",placeholder:"Name",required:!0}),y.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},y.name))))),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-secondary waves-effect waves-light","data-dismiss":"modal",onClick:function(){return E()}},"Close"),i.a.createElement(V.a,{loading:l,onClick:h,"data-size":_.XXL,"data-style":_.SLIDE_UP,"data-spinner-size":30,"data-spinner-color":"#ddd","data-spinner-lines":12},"Add Category"))))):""}function G(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"d-flex align-items-center min-vh-100"},i.a.createElement("div",{className:"w-100 d-block my-5"},i.a.createElement("div",{className:"row justify-content-center"},i.a.createElement("div",{className:"col-md-8 col-lg-5"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"mt-4 pt-3 text-center"},i.a.createElement("div",{className:"row justify-content-center"},i.a.createElement("div",{className:"col-6 my-4"},"CURRENTLY NO DATA")),i.a.createElement("h3",{className:"expired-title mb-4 mt-3"},"No data to Display"),i.a.createElement("p",{className:"text-muted mt-3"}," When the resource is filled there will be data to display")),i.a.createElement("div",{className:"mb-3 mt-4 text-center"},i.a.createElement(n.b,{to:"/",className:"btn btn-primary btn-block"},"Back to Home")))))))))))}function D(e){var a=window.$,t=(Object(S.b)().user,Object(s.useState)(!1)),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({name:"",errors:{name:""}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show")}),[]);var u=function(){e.toggleModal(!1)},E=function(){var e=Object(b.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),t.preventDefault(),!((r=d.name).length>2)){e.next=13;break}return e.next=6,Object(w.c)({name:r});case 6:n=e.sent,console.log("XXXXXX ",n),l(!1),a(".form_name").val(""),O.a.success("category added successfully"),e.next=15;break;case 13:O.a.error("name of category is empty"),l(!1);case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),h=d.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"ADD PRODUCT TYPE"),i.a.createElement("button",{type:"button",onClick:function(){return u()},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"Name of Category"),i.a.createElement("input",{type:"text",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=d.errors;switch(t){case"name":n.name=r.length<=2?" product type must be more than 2 characters long!":""}m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:n},t,r))}))},name:"name",className:"form-control form_name",id:"validationCustom01",placeholder:"Name",required:!0}),h.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},h.name))))),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-secondary waves-effect waves-light","data-dismiss":"modal",onClick:function(){return u()}},"Close"),i.a.createElement(V.a,{loading:n,onClick:E,"data-size":_.XXL,"data-style":_.SLIDE_UP,"data-spinner-size":30,"data-spinner-color":"#ddd","data-spinner-lines":12},"Add Category"))))):""}function L(){var e=Object(S.b)(),a=e.user,t=e.logout,r=Object(s.useState)(!1),n=Object(v.a)(r,2),l=n[0],c=n[1],o=Object(s.useState)(!1),d=Object(v.a)(o,2),m=d[0],u=d[1],p=function(e){c(e),u(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{id:"page-topbar"},i.a.createElement("div",{className:"navbar-header"},i.a.createElement("div",{className:"d-flex align-items-left"},i.a.createElement("button",{type:"button",className:"btn btn-sm mr-2 d-lg-none px-3 font-size-16 header-item waves-effect",id:"vertical-menu-btn"},i.a.createElement("i",{className:"fa fa-fw fa-bars"}))),i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"dropdown d-none d-sm-inline-block ml-2"},i.a.createElement("button",{type:"button",className:"btn header-item noti-icon waves-effect",id:"page-header-search-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.createElement("i",{className:"mdi mdi-magnify"})),i.a.createElement("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right p-0","aria-labelledby":"page-header-search-dropdown"},i.a.createElement("form",{className:"p-3"},i.a.createElement("div",{className:"form-group m-0"},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search ...","aria-label":"Recipient's username"}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-primary",type:"submit"},i.a.createElement("i",{className:"mdi mdi-magnify"})))))))),i.a.createElement("div",{className:"dropdown d-inline-block ml-2"},i.a.createElement("button",{type:"button",className:"btn header-item waves-effect",id:"page-header-user-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.createElement("img",{className:"rounded-circle header-profile-user",src:"/images/users/avatar-3.jpg",alt:"Header Avatar"}),i.a.createElement("span",{className:"d-none d-sm-inline-block ml-1"},a.name),i.a.createElement("i",{className:"mdi mdi-chevron-down d-none d-sm-inline-block"})),i.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},i.a.createElement("a",{className:"dropdown-item d-flex align-items-center justify-content-between",href:"/#"},"Settings"),i.a.createElement("a",{className:"dropdown-item d-flex align-items-center justify-content-between",href:"/#",onClick:function(){t()}},i.a.createElement("span",null,"Log Out"))))))),l?i.a.createElement(T,{toggleModal:p}):"",m?i.a.createElement(D,{toggleModal:p}):"")}function P(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"vertical-menu"},i.a.createElement("div",{"data-simplebar":!0,className:"h-100"},i.a.createElement("div",{className:"navbar-brand-box"},i.a.createElement("br",null),i.a.createElement("h5",null,i.a.createElement("a",{href:"/",style:{color:"white"}},"Grocesries2go"))),i.a.createElement("div",{id:"sidebar-menu"},i.a.createElement("ul",{className:"metismenu list-unstyled",id:"side-menu"},i.a.createElement("li",{className:"menu-title"},"Menu"),i.a.createElement("li",null,i.a.createElement(n.b,{to:"/",className:"waves-effect"}," ",i.a.createElement("i",{className:"bx bx-home-smile"}),i.a.createElement("span",{className:"badge badge-pill badge-primary float-right"},"7"),i.a.createElement("span",null,"Dashboard"))),i.a.createElement("li",null,i.a.createElement(n.b,{to:"/registrations",className:"waves-effect"}," ",i.a.createElement("i",{className:"bx bx-group"}),i.a.createElement("span",null,"Registration")," ")),i.a.createElement("li",null,i.a.createElement("a",{href:"/#",className:"has-arrow waves-effect"},i.a.createElement("i",{className:"bx bx-cog"}),i.a.createElement("span",null,"Settings")),i.a.createElement("ul",{className:"sub-menu","aria-expanded":"false"},i.a.createElement("li",null,i.a.createElement("a",{href:"ui-buttons.html"},"User")),i.a.createElement("li",null,i.a.createElement("a",{href:"ui-cards.html"},"Sms")))))))))}t(115);function M(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({file:"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o,s,i,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in r.preventDefault(),n=d.file,l(!0),c=d.errors,d)"file"===o&&(n.length||(c.file="kindly upload a csv file"));for(s=0,i=Object.values(d.errors);s<i.length;s++)i[s]&&l(!1);return m((function(e){return Object(g.a)(Object(g.a)({},e),{},{errors:c})})),delete d.errors,(u=new FormData).append("file",n[0]),t.next=12,Object(w.x)(u);case 12:"success"===t.sent.status&&(O.a.success("product uploaded"),a("#addGroup").modal("toggle"),e.toggleModal(!1)),console.log("data ");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[{name:"milo",description:"a nourishing bevereage for you",productTypeId:"SgCBZ8Bl3QMzz7WOIV",categoryId:"JnrkWvLZ9Vwqzo4LSn"}],t={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,title:"Product Sample",useTextFile:!1,useBom:!0,filename:"Product CSV",useKeysAsHeaders:!0},new k.ExportToCsv(t).generateCsv(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=d.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Upload Product By CSV"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("p",null,"Kindly click ",i.a.createElement("a",{href:"#",onClick:E},"here")," for a sample upload"),i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"CSV file"),i.a.createElement("input",{type:"file",name:"file",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},className:"dropify","data-height":"90","data-allowed-file-extensions":"csv","data-max-file-size":"500K"}),h.file&&h.file.length>0&&i.a.createElement("span",{className:"addGroup__error"},h.file))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Uploading  Csv ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Upload Csv"))))):""}function F(){var e=window.jQuery,a=Object(s.useState)([]),t=Object(v.a)(a,2),r=t[0],c=t[1],d=Object(s.useState)(1),u=Object(v.a)(d,2),f=u[0],g=u[1],E=Object(s.useState)(!1),h=Object(v.a)(E,2),N=h[0],O=h[1],j=Object(s.useState)(""),x=Object(v.a)(j,2),k=x[0],C=x[1],I=Object(s.useState)(!1),S=Object(v.a)(I,2),_=S[0],V=S[1],T=Object(s.useState)([]),G=Object(v.a)(T,2),D=G[0],L=G[1];Object(s.useEffect)((function(){Object(b.a)(p.a.mark((function a(){var t,r,n,l,o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(w.h)(1);case 2:t=a.sent,r=t.data,c(r),document.getElementById("datatable-buttons")&&(window.$("#datatable-buttons").DataTable({lengthMenu:[[20,50,100,-1],[20,50,100,"All"]]}),window.$("input[type=search]").addClass("form-control")),n=f,l=r,o=function(){var a=Object(b.a)(p.a.mark((function a(t){var r,o,s,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((o=e("#showMoreResults")).length){a.next=3;break}return a.abrupt("return");case 3:if(r=e(window).scrollTop()+e(window).height()-o.height(),!(o.offset().top<r)){a.next=17;break}if(o.data("visible")){a.next=15;break}return o.data("visible",!0),g(n+=1),a.next=11,Object(w.h)(n);case 11:s=a.sent,i=s.data,l=[].concat(Object(m.a)(l),Object(m.a)(i)),c(l);case 15:a.next=18;break;case 17:o.data("visible")&&o.data("visible",!1);case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e(window).on("scroll",o);case 11:case"end":return a.stop()}}),a)})))()}),[_]);var P=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.fire({title:"Are you sure?",text:"You will not be able to recover this product ".concat(a.name,"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=5;break}return e.next=3,Object(w.o)(a);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.fire({title:"Are you sure?",text:"You will not be able to recover these selected products !",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete them!",cancelButtonText:"No, keep them"}).then(function(){var e=Object(b.a)(p.a.mark((function e(a){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.value){e.next=5;break}return e.next=3,Object(w.o)(D);case 3:t=e.sent,console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return N?i.a.createElement(l.a,{to:"/product/edit/"+k,state:"productId"}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-content"},i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"page-title-box d-flex align-items-center justify-content-between"},i.a.createElement("h4",{className:"mb-0 font-size-18"},"Products"),i.a.createElement("div",{className:"page-title-right"},i.a.createElement("div",{className:"btn-group",role:"group",style:{marginRight:"80px"}},i.a.createElement("button",{id:"btnGroupDrop1",type:"button",className:"btn btn-outline-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Action ",i.a.createElement("i",{className:"mdi mdi-chevron-down"})),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1","x-placement":"bottom-start",style:{position:"absolute",willChange:"transform",top:"0px",left:"-70px",transform:"translate3d(0px, 36px, 0px)"}},i.a.createElement(n.b,{to:"/add-product",className:"dropdown-item"},"Add Product"),i.a.createElement("a",{href:"#",onClick:function(e){V(!0)},className:"dropdown-item"},"Upload Product Csv"),D.length?i.a.createElement("a",{href:"#",onClick:function(e){F()},className:"dropdown-item"},"Delete Selected Product(s)"):"")))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},r.length?i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table mb-0"},i.a.createElement("thead",{className:"thead-light"},i.a.createElement("tr",{role:"row"},i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"#"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"Name"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"397px"},"aria-label":"Position: activate to sort column ascending"},"Product Type"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"202px"},"aria-label":"Office: activate to sort column ascending"},"Status"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}))),i.a.createElement("tbody",null,r.map((function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("th",null,i.a.createElement("div",{className:"custom-control custom-checkbox"},i.a.createElement("input",{type:"checkbox",onClick:function(){return a=e._id,void L((function(e){return[].concat(Object(m.a)(e),[a])}));var a},className:"custom-control-input",id:"customCheck1".concat(a)}),i.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1".concat(a)}))),i.a.createElement("th",{scope:"row"},a+1),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.productType),i.a.createElement("td",null,e.status),i.a.createElement("td",null,i.a.createElement("a",{onClick:function(){return a=e._id,O(!0),void C(a);var a},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-edit","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"edit"}))),i.a.createElement("td",null,i.a.createElement("a",{onClick:function(){return P(e)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-trash","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"remove"}))))})),i.a.createElement("div",{id:"showMoreResults"}," ")))):i.a.createElement(o.d,null)))))))),_?i.a.createElement(M,{toggleModal:function(e){V(e)}}):"")}function U(e){var a=e.match.params.productId,t=Object(s.useState)({_id:a,name:"",description:"",productTypeId:"",productType:"",categoryId:"",category:"",productVariants:"",productImage:"",errors:{}}),r=Object(v.a)(t,2),c=r[0],u=r[1],h=Object(s.useState)(!1),N=Object(v.a)(h,2),k=N[0],I=N[1],S=window.$;Object(s.useEffect)((function(){Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.f)(a);case 2:(t=e.sent).data||window.location.replace("/"),(t=t.data).productVariants.forEach((function(e,a){return e.id=a})),u((function(e){return Object(g.a)(Object(g.a)({},e),{},{name:t.name||"",description:t.description||"",productTypeId:t.productTypeId||"",productType:t.productType||"",categoryId:t.categoryId||"",category:t.category||"",productVariants:t.productVariants,productImage:t.productImage})})),S(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}});case 8:case"end":return e.stop()}}),e)})))()}),[k]);var _=Object(s.useState)(!1),V=Object(v.a)(_,2),T=V[0],G=V[1],D=Object(s.useState)([]),L=Object(v.a)(D,2),P=L[0],M=L[1],F=Object(s.useState)([]),U=Object(v.a)(F,2),A=U[0],$=U[1],B=Object(s.useState)(!1),R=Object(v.a)(B,2),q=R[0],z=R[1],K=Object(s.useState)(!1),Y=Object(v.a)(K,2),X=Y[0],H=Y[1],Q=Object(s.useState)([]),W=Object(v.a)(Q,2),J=W[0],Z=W[1],ee=Object(s.useState)(!1),ae=Object(v.a)(ee,2),te=ae[0],re=ae[1],ne=A.map((function(e){return{value:e.name,label:e.name,id:e._id}})),le=P.map((function(e){return{value:e.name,label:e.name,id:e._id}})),ce=function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=c.errors;l[t]="",u((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},oe=function(){var e=Object(b.a)(p.a.mark((function e(t){var r,n,l,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),z(!0),r=c.errors,se(r),n=0,l=Object.values(c.errors);case 5:if(!(n<l.length)){e.next=13;break}if(!l[n]){e.next=10;break}return z(!1),e.abrupt("return");case 10:n++,e.next=5;break;case 13:if(delete c.errors,c.productVariants.length){e.next=19;break}return O.a.error("Kindly add product variants"),z(!1),e.abrupt("return");case 19:if("string"===typeof c.productImage){e.next=26;break}return(o=new FormData).append("file",c.productImage[0]),o.append("_id",a),o.append("collection","product"),e.next=26,Object(w.s)(o);case 26:return c.productVariants.forEach((function(e){delete e.productVariantImage})),delete c.productImage,e.next=30,Object(w.t)(c);case 30:s=e.sent,z(!1),s&&"Success"===s.status?(O.a.success("Product Edited Successfully"),z(!1),G(!0)):O.a.error("Edit Product Failed");case 33:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),se=function(e){var a=c.name,t=c.description,r=c.productTypeId,n=c.categoryId,l=c.productImage;c.productVariants;for(var o in c)"name"===o&&a.length<=3&&(e.name="variant name must be more than 3 characters long!"),"description"===o&&t.length<=3&&(e.description="description of product must be more than 3 characters long!"),"productTypeId"===o&&(r.length||(e.productTypeId="product type can't be empty")),"categoryId"===o&&(n.length||(e.categoryId="category can't be empty")),"productImage"===o&&(l||(e.productImage="kindly upload an Image"));u((function(a){return Object(g.a)(Object(g.a)({},a),{},{errors:e})}))},ie=function(){var e=Object(b.a)(p.a.mark((function e(a,t){var r,n,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.productVariants,!t){e.next=24;break}return n=r.findIndex((function(e){return e.id===a})),r[n].name=t.name,r[n].price=t.price,r[n].code=t.code,r[n].quantityInCase=t.quantityInCase,r[n].inventory=t.inventory,r[n].uom=t.uom,r[n].upc=t.upc,r[n].description=t.description,r[n].productVariantImage=t.productVariantImage,r[n]._id=t._id,e.next=15,Object(w.v)(r[n]);case 15:if("string"===typeof t.productVariantImage||"undefined"===typeof t.productVariantImage){e.next=21;break}return(l=new FormData).append("file",r[n].productVariantImage[0]),l.append("_id",t._id),e.next=21,Object(w.s)(l);case 21:u((function(e){return Object(g.a)(Object(g.a)({},e),{},{productVariants:r})})),e.next=26;break;case 24:re(!0),Z(r[a]);case 26:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),de=c.errors,me=c.productVariants;return T?i.a.createElement(l.a,{to:"/products/list"}):i.a.createElement("div",{className:"main-content"},c._id?i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"page-title-box d-flex align-items-center justify-content-between sticky"},i.a.createElement("h4",{className:"mb-0 font-size-18"},"Add a Prouct"),i.a.createElement("div",{className:"page-title-right"},i.a.createElement("div",{className:"btn-group",role:"group"},q?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",height:"37px",opacity:"0.4",marginRight:"10px"}},"Updating Product ....."):i.a.createElement("button",{type:"button",onClick:oe,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",height:"37px",marginRight:"10px"}},"Update Product"),i.a.createElement("div",{className:"dropdown d-inline-block ml-2"},i.a.createElement("button",{type:"button",className:"btn btn-outline-secondary dropdown-toggle",id:"page-header-user-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.createElement("span",{className:"d-none d-sm-inline-block ml-1"},"Action"),i.a.createElement("i",{className:"mdi mdi-chevron-down d-none d-sm-inline-block"})),i.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},i.a.createElement(n.b,{to:"/products/list",className:"dropdown-item"},"Product List"),i.a.createElement("a",{href:"#",onClick:function(){I(!0)},className:"dropdown-item"},"Upload Product Var Csv")))))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body",style:{padding:"4.25rem"}},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Product Name"),i.a.createElement("input",{type:"text",onChange:ce,name:"name",value:c.name,className:"form-control",id:"colFormLabel"}),de.name&&de.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},de.name))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Product Description"),i.a.createElement("textarea",{className:"form-control",value:c.description,id:"exampleFormControlTextarea1",onChange:ce,name:"description",rows:"3"}),de.description&&de.description.length>0&&i.a.createElement("span",{className:"addGroup__error"},de.description))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Product Image"),i.a.createElement("input",{type:"file",multiple:!0,name:"productImage",onChange:ce,className:"dropify","data-height":"150","data-allowed-file-extensions":"jpg png jpeg","data-max-file-size":"500K","data-default-file":"".concat("http://178.62.39.33/","/").concat(c.productImage)}),de.productImage&&de.productImage.length>0&&i.a.createElement("span",{className:"addGroup__error"},de.productImage))),i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Product Type"),i.a.createElement(E.a,{value:{label:c.productType||"Product Type"},onMenuOpen:Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.g)();case 2:a=e.sent,$(a.data);case 4:case"end":return e.stop()}}),e)}))),onChange:function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u((function(e){return e.errors.productTypeId="",Object(g.a)(Object(g.a)({},e),{},{productTypeId:a.id,productType:a.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),options:ne,name:"productTypeId"}),de.productTypeId&&de.productTypeId.length>0&&i.a.createElement("span",{className:"addGroup__error"},de.productTypeId)),i.a.createElement("div",{className:"col-md-6 mb-3"},i.a.createElement("label",{htmlFor:"colFormLabel",className:"col-sm-2 col-form-label",style:{paddingLeft:"0px"}},"Category"),i.a.createElement(E.a,{value:{label:c.category||"Category"},onMenuOpen:Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.e)();case 2:a=e.sent,M(a.data);case 4:case"end":return e.stop()}}),e)}))),onChange:function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u((function(e){return e.errors.categoryId="",Object(g.a)(Object(g.a)({},e),{},{categoryId:a.id,category:a.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),options:le,name:"categoryId"}),de.categoryId&&de.categoryId.length>0&&i.a.createElement("span",{className:"addGroup__error"},de.categoryId))),i.a.createElement("br",null),i.a.createElement("button",{type:"button",onClick:function(e){H(!0)},className:"btn btn-success waves-effect waves-light",style:{float:"right"}}," ",i.a.createElement("i",{className:"bx bx-plus"})," Add Variant "),de.productVariants&&de.productVariants.length>0&&i.a.createElement("span",{className:"addGroup__error"},de.productVariants),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),me.length?i.a.createElement("div",{className:"col-xl-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table table-borderless mb-0"},i.a.createElement("thead",{className:"thead-light"},i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Variant Name"),i.a.createElement("th",null,"Code"),i.a.createElement("th",null,"Price"),i.a.createElement("th",null))),i.a.createElement("tbody",null,me.map((function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("th",{scope:"row"},a+1),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.code),i.a.createElement("td",null,e.price),i.a.createElement("td",{style:{float:"right"}},i.a.createElement("a",{onClick:function(){return ie(a)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-edit","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"edit"}))),i.a.createElement("td",{style:{float:"right"}},i.a.createElement("a",{onClick:function(){return function(e){var a=c.productVariants;y.a.fire({title:"Are you sure?",text:"You will not be able to recover this product variant!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(){var t=Object(b.a)(p.a.mark((function t(r){var n,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.value){n=Object(d.a)(a);try{for(n.s();!(l=n.n()).done;)l.value,Object(w.q)(a[e]),a.splice(e,1),u((function(e){return Object(g.a)(Object(g.a)({},e),{},{productVariants:a})}))}catch(c){n.e(c)}finally{n.f()}}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(e.id)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-trash","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"remove"}))))})))))))):i.a.createElement(o.d,null)))))))):i.a.createElement(o.d,null),X?i.a.createElement(j,{toggleModal:function(e){H(e)},productVariants:function(e){e=e||[];var a=c.productVariants;a.length?(e=e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{id:a.length})})),a=[].concat(Object(m.a)(a),Object(m.a)(e))):a=e,u((function(e){return Object(g.a)(Object(g.a)({},e),{},{productVariants:a})}))}}):"",te?i.a.createElement(x,{toggleModal:function(e){re(e)},productVariant:J,updateVariant:ie}):"",k?i.a.createElement(C,{toggleModal:function(e){I(e)}}):"")}function A(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({name:e.category.name||"",_id:e.category._id||"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o,s,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in r.preventDefault(),n=d.name,l(!0),c=d.errors,d)"name"===o&&n.length<=3&&(c.name="variant name must be more than 3 characters long!");for(s=0,i=Object.values(d.errors);s<i.length;s++)i[s]&&l(!1);return m((function(e){return Object(g.a)(Object(g.a)({},e),{},{errors:c})})),delete d.errors,t.next=10,Object(w.r)(d);case 10:"success"===t.sent.status&&(O.a.success("product uploaded"),a("#addGroup").modal("toggle"),e.toggleModal(!1));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=d.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Update Category"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"Name"),i.a.createElement("input",{type:"text",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},name:"name",value:d.name,className:"form-control",id:"colFormLabel"}),E.name&&E.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},E.name))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Updating  Category ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Update Category"))))):""}function $(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({file:"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o,s,i,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in r.preventDefault(),n=d.file,l(!0),c=d.errors,d)"file"===o&&(n.length||(c.file="kindly upload a csv file"));for(s=0,i=Object.values(d.errors);s<i.length;s++)i[s]&&l(!1);return m((function(e){return Object(g.a)(Object(g.a)({},e),{},{errors:c})})),delete d.errors,(u=new FormData).append("file",n[0]),t.next=12,Object(w.w)(u);case 12:"success"===t.sent.status&&(O.a.success("categories uploaded"),a("#addGroup").modal("toggle"),e.toggleModal(!1)),console.log("data ");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[{name:"toletries"}],t={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,title:"Category Sample",useTextFile:!1,useBom:!0,filename:"Category CSV",useKeysAsHeaders:!0},new k.ExportToCsv(t).generateCsv(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=d.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Upload Category By CSV"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("p",null,"Kindly click ",i.a.createElement("a",{href:"#",onClick:E},"here")," for a sample upload"),i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"CSV file"),i.a.createElement("input",{type:"file",name:"file",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},className:"dropify","data-height":"90","data-allowed-file-extensions":"csv","data-max-file-size":"500K"}),h.file&&h.file.length>0&&i.a.createElement("span",{className:"addGroup__error"},h.file))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Uploading  Csv ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Upload Csv"))))):""}function B(){var e=window.jQuery,a=Object(s.useState)([]),t=Object(v.a)(a,2),r=t[0],n=t[1],l=Object(s.useState)(1),c=Object(v.a)(l,2),d=c[0],u=c[1],f=Object(s.useState)(""),g=Object(v.a)(f,2),E=g[0],h=g[1],y=Object(s.useState)(!1),N=Object(v.a)(y,2),O=N[0],j=N[1],x=Object(s.useState)(!1),k=Object(v.a)(x,2),C=k[0],I=k[1],S=Object(s.useState)(!1),_=Object(v.a)(S,2),V=_[0],G=_[1];Object(s.useEffect)((function(){Object(b.a)(p.a.mark((function a(){var t,r,l,c,o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(w.e)(1);case 2:t=a.sent,r=t.data,n(r),document.getElementById("datatable-buttons")&&(window.$("#datatable-buttons").DataTable({lengthMenu:[[20,50,100,-1],[20,50,100,"All"]]}),window.$("input[type=search]").addClass("form-control")),l=d,c=r,o=function(){var a=Object(b.a)(p.a.mark((function a(t){var r,o,s,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((o=e("#showMoreResults")).length){a.next=3;break}return a.abrupt("return");case 3:if(r=e(window).scrollTop()+e(window).height()-o.height(),!(o.offset().top<r)){a.next=17;break}if(o.data("visible")){a.next=15;break}return o.data("visible",!0),u(l+=1),a.next=11,Object(w.e)(l);case 11:s=a.sent,i=s.data,c=[].concat(Object(m.a)(c),Object(m.a)(i)),n(c);case 15:a.next=18;break;case 17:o.data("visible")&&o.data("visible",!1);case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e(window).on("scroll",o);case 11:case"end":return a.stop()}}),a)})))()}),[O,V]);var D=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),h(r[a]);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(e){j(e),G(e),I(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-content"},i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"page-title-box d-flex align-items-center justify-content-between"},i.a.createElement("h4",{className:"mb-0 font-size-18"},"Categories"),i.a.createElement("div",{className:"page-title-right"},i.a.createElement("div",{className:"btn-group",role:"group",style:{marginRight:"80px"}},i.a.createElement("button",{id:"btnGroupDrop1",type:"button",className:"btn btn-outline-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Action ",i.a.createElement("i",{className:"mdi mdi-chevron-down"})),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1","x-placement":"bottom-start",style:{position:"absolute",willChange:"transform",top:"0px",left:"-70px",transform:"translate3d(0px, 36px, 0px)"}},i.a.createElement("a",{href:"#",onClick:function(e){G(!0)},className:"dropdown-item notify-item"},"Add Category"),i.a.createElement("a",{href:"#",onClick:function(e){I(!0)},className:"dropdown-item"},"Upload Category Csv"))))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"table-responsive"},r.length?i.a.createElement("table",{className:"table mb-0"},i.a.createElement("thead",{className:"thead-light"},i.a.createElement("tr",{role:"row"},i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"#"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"Name"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"397px"},"aria-label":"Position: activate to sort column ascending"},"Id"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}))),i.a.createElement("tbody",null,r.map((function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("th",{scope:"row"},a+1),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e._id),i.a.createElement("td",null,i.a.createElement("a",{onClick:function(){return D(a)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-edit","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"edit"}))),i.a.createElement("td",null))})),i.a.createElement("div",{id:"showMoreResults"}," "))):i.a.createElement(o.d,null))))))))),O?i.a.createElement(A,{toggleModal:L,category:E}):"",V?i.a.createElement(T,{toggleModal:L}):"",C?i.a.createElement($,{toggleModal:L}):"")}function R(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({name:e.productType.name||"",_id:e.productType._id||"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o,s,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in r.preventDefault(),n=d.name,l(!0),c=d.errors,d)"name"===o&&n.length<=3&&(c.name="variant name must be more than 3 characters long!");for(s=0,i=Object.values(d.errors);s<i.length;s++)i[s]&&l(!1);return m((function(e){return Object(g.a)(Object(g.a)({},e),{},{errors:c})})),delete d.errors,t.next=10,Object(w.u)(d);case 10:"success"===t.sent.status&&(O.a.success("product uploaded"),a("#addGroup").modal("toggle"),e.toggleModal(!1));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=d.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Update Product Type"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"Name"),i.a.createElement("input",{type:"text",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},name:"name",value:d.name,className:"form-control",id:"colFormLabel"}),E.name&&E.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},E.name))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Updating  Product Type ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Update Product Type"))))):""}function q(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({file:"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o,s,i,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in r.preventDefault(),n=d.file,l(!0),c=d.errors,d)"file"===o&&(n.length||(c.file="kindly upload a csv file"));for(s=0,i=Object.values(d.errors);s<i.length;s++)i[s]&&l(!1);return m((function(e){return Object(g.a)(Object(g.a)({},e),{},{errors:c})})),delete d.errors,(u=new FormData).append("file",n[0]),t.next=12,Object(w.y)(u);case 12:"success"===t.sent.status&&(O.a.success("categories uploaded"),a("#addGroup").modal("toggle"),e.toggleModal(!1)),console.log("data ");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[{name:"toletries"}],t={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,title:"Product Type Sample",useTextFile:!1,useBom:!0,filename:"Product_Type CSV",useKeysAsHeaders:!0},new k.ExportToCsv(t).generateCsv(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=d.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Upload Product Type By CSV"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("p",null,"Kindly click ",i.a.createElement("a",{href:"#",onClick:E},"here")," for a sample upload"),i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"CSV file"),i.a.createElement("input",{type:"file",name:"file",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},className:"dropify","data-height":"90","data-allowed-file-extensions":"csv","data-max-file-size":"500K"}),h.file&&h.file.length>0&&i.a.createElement("span",{className:"addGroup__error"},h.file))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Uploading  Csv ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Upload Csv"))))):""}function z(e){var a=window.$,t=Object(S.b)().user,r=Object(s.useState)(!1),n=Object(v.a)(r,2),l=n[0],c=n[1],o=Object(s.useState)({name:"",errors:{name:""}}),d=Object(v.a)(o,2),m=d[0],u=d[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show")}),[]);var E=function(){e.toggleModal(!1)},h=function(){var r=Object(b.a)(p.a.mark((function r(n){var l;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c(!0),n.preventDefault(),!((l=m.name).length>2)){r.next=14;break}return t[0].church_group,r.next=7,Object(w.c)({name:l});case 7:c(!1),a(".form_name").val(""),O.a.success("product type added successfully"),a("#addGroup").modal("toggle"),e.toggleModal(!1),r.next=16;break;case 14:O.a.error("name of category is empty"),c(!1);case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),y=m.errors;return e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"ADD PRODUCT TYPE"),i.a.createElement("button",{type:"button",onClick:function(){return E()},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"Name of Product Type"),i.a.createElement("input",{type:"text",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=m.errors;switch(t){case"name":n.name=r.length<=2?" name of category must be more than 2 characters long!":""}u((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:n},t,r))}))},name:"name",className:"form-control form_name",id:"validationCustom01",placeholder:"Name",required:!0}),y.name.length>0&&i.a.createElement("span",{className:"addGroup__error"},y.name))))),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-secondary waves-effect waves-light","data-dismiss":"modal",onClick:function(){return E()}},"Close"),i.a.createElement(V.a,{loading:l,onClick:h,"data-size":_.XXL,"data-style":_.SLIDE_UP,"data-spinner-size":30,"data-spinner-color":"#ddd","data-spinner-lines":12},"Add Product Type"))))):""}function K(){var e=Object(s.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],n=Object(s.useState)(""),l=Object(v.a)(n,2),c=l[0],d=l[1],m=Object(s.useState)(!1),u=Object(v.a)(m,2),f=u[0],g=u[1],E=Object(s.useState)(!1),h=Object(v.a)(E,2),y=h[0],N=h[1],O=Object(s.useState)(!1),j=Object(v.a)(O,2),x=j[0],k=j[1];Object(s.useEffect)((function(){Object(b.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.g)();case 2:a=e.sent,t=a.data,r(t),document.getElementById("datatable-buttons")&&(window.$("#datatable-buttons").DataTable({lengthMenu:[[20,50,100,-1],[20,50,100,"All"]]}),window.$("input[type=search]").addClass("form-control"));case 7:case"end":return e.stop()}}),e)})))()}),[f,x,y]);var C=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),d(t[a]);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(e){g(e),k(e),N(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-content"},i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"page-title-box d-flex align-items-center justify-content-between"},i.a.createElement("h4",{className:"mb-0 font-size-18"},"Products"),i.a.createElement("div",{className:"page-title-right"},i.a.createElement("div",{className:"btn-group",role:"group",style:{marginRight:"80px"}},i.a.createElement("button",{id:"btnGroupDrop1",type:"button",className:"btn btn-outline-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Action ",i.a.createElement("i",{className:"mdi mdi-chevron-down"})),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1","x-placement":"bottom-start",style:{position:"absolute",willChange:"transform",top:"0px",left:"-70px",transform:"translate3d(0px, 36px, 0px)"}},i.a.createElement("a",{href:"#",onClick:function(e){k(!0)},className:"dropdown-item notify-item"},"Add Product Type"),i.a.createElement("a",{href:"#",onClick:function(e){N(!0)},className:"dropdown-item"},"Upload Product Type Csv"))))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},t.length?i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table mb-0"},i.a.createElement("thead",{className:"thead-light"},i.a.createElement("tr",{role:"row"},i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"#"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"Name"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"397px"},"aria-label":"Position: activate to sort column ascending"},"Id"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}))),i.a.createElement("tbody",null,t.map((function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("th",{scope:"row"},a+1),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e._id),i.a.createElement("td",null,i.a.createElement("a",{onClick:function(){return C(a)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-edit","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"edit"}))),i.a.createElement("td",null))}))))):i.a.createElement(o.d,null)))))))),"}",f?i.a.createElement(R,{toggleModal:I,productType:c}):"",x?i.a.createElement(z,{toggleModal:I}):"",y?i.a.createElement(q,{toggleModal:I}):"")}var Y=t(86),X=t.n(Y);function H(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({email:"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),n=d.email,l(!0),c=d.errors,t.t0=p.a.keys(d);case 5:if((t.t1=t.t0()).done){t.next=18;break}if("email"!==t.t1.value){t.next=16;break}if(!(n.length<=3)){t.next=12;break}return c.name="email must be more than 3 characters long!",l(!1),t.abrupt("return");case 12:if(X.a.isEmail(n)){t.next=16;break}return c.email="Email is not valid!",l(!1),t.abrupt("return");case 16:t.next=5;break;case 18:for(o=0,s=Object.values(d.errors);o<s.length;o++)s[o]&&l(!1);return m((function(e){return Object(g.a)(Object(g.a)({},e),{},{errors:c})})),delete d.errors,t.next=23,Object(w.r)(d);case 23:"success"===t.sent.status&&(O.a.success("product uploaded"),a("#addGroup").modal("toggle"),e.toggleModal(!1));case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=d.errors;return console.log("Errors ___",E.email),e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Invite User"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"Email"),i.a.createElement("input",{type:"email",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},name:"email",className:"form-control",id:"colFormLabel"}),E.email&&E.email.length>0&&i.a.createElement("span",{className:"addGroup__error"},E.email))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Invite  User ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Invite User"))))):""}function Q(){var e=Object(s.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],n=Object(s.useState)(!1),c=Object(v.a)(n,2),o=c[0],d=c[1],m=Object(s.useState)(""),u=Object(v.a)(m,2),f=u[0],g=u[1],E=Object(s.useState)(!1),h=Object(v.a)(E,2),N=h[0],O=h[1];Object(s.useEffect)((function(){Object(b.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.d)();case 2:a=e.sent,t=a.data,r(t),document.getElementById("datatable-buttons")&&(window.$("#datatable-buttons").DataTable({lengthMenu:[[20,50,100,-1],[20,50,100,"All"]]}),window.$("input[type=search]").addClass("form-control"));case 7:case"end":return e.stop()}}),e)})))()}),[N]);var j=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.fire({title:"Are you sure?",text:"You will not be able to recover this product ".concat(a.name,"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=5;break}return e.next=3,Object(w.o)(a);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o?i.a.createElement(l.a,{to:"/product/edit/"+f,state:"productId"}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-content"},i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"page-title-box d-flex align-items-center justify-content-between"},i.a.createElement("h4",{className:"mb-0 font-size-18"},"Users"),i.a.createElement("div",{className:"page-title-right"},i.a.createElement("div",{className:"btn-group",role:"group",style:{marginRight:"80px"}},i.a.createElement("button",{id:"btnGroupDrop1",type:"button",className:"btn btn-outline-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Action ",i.a.createElement("i",{className:"mdi mdi-chevron-down"})),i.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1","x-placement":"bottom-start",style:{position:"absolute",willChange:"transform",top:"0px",left:"-70px",transform:"translate3d(0px, 36px, 0px)"}},i.a.createElement("a",{href:"#",onClick:function(e){O(!0)},className:"dropdown-item"},"Invite a User"))))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table mb-0"},i.a.createElement("thead",{className:"thead-light"},i.a.createElement("tr",{role:"row"},i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"#"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"Name"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"397px"},"aria-label":"Position: activate to sort column ascending"},"Type"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"397px"},"aria-label":"Position: activate to sort column ascending"},"Email"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"202px"},"aria-label":"Office: activate to sort column ascending"},"Role"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}))),i.a.createElement("tbody",null,t.map((function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("th",{scope:"row"},a+1),i.a.createElement("td",null,e.fullName),i.a.createElement("td",null,e.userType),i.a.createElement("td",null,e.email),i.a.createElement("td",null,e.roles?e.roles[0]:"---"),i.a.createElement("td",null,i.a.createElement("a",{onClick:function(){return a=e._id,d(!0),void g(a);var a},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-edit","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"edit"}))),i.a.createElement("td",null,i.a.createElement("a",{onClick:function(){return j(e)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-trash","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"remove"}))))})))))))))))),N?i.a.createElement(H,{toggleModal:function(e){O(e)}}):"")}function W(e){var a=window.$,t=Object(s.useState)(!1),r=Object(v.a)(t,2),n=r[0],l=r[1],c=Object(s.useState)({email:"",errors:{}}),o=Object(v.a)(c,2),d=o[0],m=o[1];Object(s.useEffect)((function(){window.$("#addGroup").modal("show"),a(".dropify").dropify({messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong happended."}})}),[]);var u=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,c,o,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),n=d.email,l(!0),c=d.errors,t.t0=p.a.keys(d);case 5:if((t.t1=t.t0()).done){t.next=18;break}if("email"!==t.t1.value){t.next=16;break}if(!(n.length<=3)){t.next=12;break}return c.name="email must be more than 3 characters long!",l(!1),t.abrupt("return");case 12:if(X.a.isEmail(n)){t.next=16;break}return c.email="Email is not valid!",l(!1),t.abrupt("return");case 16:t.next=5;break;case 18:for(o=0,s=Object.values(d.errors);o<s.length;o++)s[o]&&l(!1);return m((function(e){return Object(g.a)(Object(g.a)({},e),{},{errors:c})})),delete d.errors,t.next=23,Object(w.r)(d);case 23:"success"===t.sent.status&&(O.a.success("product uploaded"),a("#addGroup").modal("toggle"),e.toggleModal(!1));case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=d.errors;return console.log("Errors ___",E.email),e.toggleModal?i.a.createElement("div",{id:"addGroup",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"addGroupLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},i.a.createElement("div",{className:"modal-dialog",role:"document"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"addGroupLabel"},"Invite User"),i.a.createElement("button",{type:"button",onClick:function(){e.toggleModal(!1)},className:"close waves-effect waves-light","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement("form",{className:"needs-validation",noValidate:!0},i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-md-12 mb-4"},i.a.createElement("label",{htmlFor:"validationCustom01"},"Email"),i.a.createElement("input",{type:"email",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,r=a.value,n=a.files,l=d.errors;l[t]="",m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(f.a)({errors:l},t,r&&!n?r:n||""))}))},name:"email",className:"form-control",id:"colFormLabel"}),E.email&&E.email.length>0&&i.a.createElement("span",{className:"addGroup__error"},E.email))))),i.a.createElement("div",{className:"modal-footer"},n?i.a.createElement("button",{type:"button",className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px",opacity:"0.4"}},"Invite  User ....."):i.a.createElement("button",{type:"button",onClick:u,className:"btn btn-primary btn-large waves-effect waves-light",style:{margin:"auto",display:"block",width:"200px"}},"Invite User"))))):""}function J(){var e=Object(s.useState)([]),a=Object(v.a)(e,2),t=a[0],r=a[1],n=Object(s.useState)(!1),c=Object(v.a)(n,2),o=c[0],d=(c[1],Object(s.useState)("")),m=Object(v.a)(d,2),u=m[0],f=(m[1],Object(s.useState)(!1)),g=Object(v.a)(f,2),E=g[0],h=g[1];Object(s.useEffect)((function(){Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.i)();case 2:a=e.sent,r(a),document.getElementById("datatable-buttons")&&(window.$("#datatable-buttons").DataTable({lengthMenu:[[20,50,100,-1],[20,50,100,"All"]]}),window.$("input[type=search]").addClass("form-control"));case 6:case"end":return e.stop()}}),e)})))()}),[E]);var N=function(){var e=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.fire({title:"Are you sure?",text:"You will not be able to recover this user ".concat(a.name,"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(){var e=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=5;break}return e.next=3,Object(w.p)(a);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o?i.a.createElement(l.a,{to:"/product/edit/"+u,state:"productId"}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-content"},i.a.createElement("div",{className:"page-content"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"page-title-box d-flex align-items-center justify-content-between"},i.a.createElement("h4",{className:"mb-0 font-size-18"},"Registrations")))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table mb-0"},i.a.createElement("thead",{className:"thead-light"},i.a.createElement("tr",{role:"row"},i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"#"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"Name"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"Ward"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"274px"},"aria-sort":"ascending","aria-label":"Name: activate to sort column descending"},"Phone Number"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"397px"},"aria-label":"Position: activate to sort column ascending"},"State"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"397px"},"aria-label":"Position: activate to sort column ascending"},"Email"),i.a.createElement("th",{className:"sorting",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"202px"},"aria-label":"Office: activate to sort column ascending"},"Age"),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}),i.a.createElement("th",{className:"sorting_asc",tabIndex:0,"aria-controls":"datatable-buttons",rowSpan:1,colSpan:1,style:{width:"10px"}}))),i.a.createElement("tbody",null,t.map((function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("th",{scope:"row"},a+1),i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.ward),i.a.createElement("td",null,e.phone_number),i.a.createElement("td",null,e.state),i.a.createElement("td",null,e.email),i.a.createElement("td",null,e.age),i.a.createElement("td",null),i.a.createElement("td",null,i.a.createElement("a",{onClick:function(){return N(e)},style:{color:"#767c82",cursor:"pointer"}},i.a.createElement("i",{className:"fa fa-fw fa-trash","data-toggle":"tooltip","data-placement":"top",title:"","data-original-title":"remove"}))))})))))))))))),E?i.a.createElement(W,{toggleModal:function(e){h(e)}}):"")}function Z(e){var a=e.error;return Object(r.d)(o.a,{error:a,css:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})}a.default=function(){return Object(r.d)("div",{id:"layout-wrapper"},Object(r.d)(c.ErrorBoundary,{FallbackComponent:Z},Object(r.d)(n.a,null,Object(r.d)(l.b,{render:function(e){return Object(r.d)(L,e)}}),Object(r.d)(l.b,{render:function(e){return Object(r.d)(P,e)}}),Object(r.d)(l.d,null,Object(r.d)(l.b,{path:"/",exact:!0,render:function(e){return Object(r.d)(J,e)}}),Object(r.d)(l.b,{path:"/add-product",exact:!0,render:function(e){return Object(r.d)(I,e)}}),Object(r.d)(l.b,{path:"/products/list",exact:!0,render:function(e){return Object(r.d)(F,e)}}),Object(r.d)(l.b,{path:"/product/edit/:productId",exact:!0,render:function(e){return Object(r.d)(U,e)}}),Object(r.d)(l.b,{path:"/add-group",exact:!0,render:function(e){return Object(r.d)(T,e)}}),Object(r.d)(l.b,{path:"/categories",exact:!0,render:function(e){return Object(r.d)(B,e)}}),Object(r.d)(l.b,{path:"/product-types",exact:!0,render:function(e){return Object(r.d)(K,e)}}),Object(r.d)(l.b,{path:"/users",exact:!0,render:function(e){return Object(r.d)(Q,e)}}),Object(r.d)(l.b,{path:"/registrations",exact:!0,render:function(e){return Object(r.d)(J,e)}}),Object(r.d)(l.b,{path:"*",exact:!0,render:function(e){return Object(r.d)(G,e)}})))),Object(r.d)("footer",{className:"footer"},Object(r.d)("div",{className:"container-fluid"},Object(r.d)("div",{className:"row"},Object(r.d)("div",{className:"col-sm-6"}),Object(r.d)("div",{className:"col-sm-6"},Object(r.d)("div",{className:"text-sm-right d-none d-sm-block"},(new Date).getFullYear()," \xa9 kadismile."))))))}}}]);
//# sourceMappingURL=5.426567a8.chunk.js.map