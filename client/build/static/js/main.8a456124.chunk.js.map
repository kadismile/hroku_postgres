{"version":3,"sources":["utils/api-client.js","utils/constants.js","utils/auth-client.js","components/lib.js","utils/bootstrap.js","utils/use-async.js","context/auth-context.js","App.js","context/index.js","index.js"],"names":["client","endpoint","a","data","type","customHeaders","headers","customConfig","token","window","localStorage","getItem","process","Authorization","undefined","config","method","body","JSON","stringify","console","log","fetch","then","response","json","catch","err","logout","queryCache","clear","removeItem","BASE_URL","LOGIN_URL","handleUserResponse","setItem","getUser","user","login","email","password","url","register","username","getToken","status","toastr","error","Promise","resolve","getCategory","page","createCategory","updateCategory","uploadCategoryCsv","createProductType","getProductType","updateProductType","uploadProductTypeCsv","createProduct","updateProduct","updateImage","uploadProductCsv","uploadVariantCsv","removeVariant","updateVariant","getProducts","removeProduct","getProductById","getAllUsers","getRegistrations","removeRegistration","isLoggedIn","Boolean","spin","keyframes","transform","FaSpinner","animation","defaultProps","FullPageSpinner","css","fontSize","height","display","flexDirection","justifyContent","alignItems","className","role","Loader","errorMessageVariants","stacked","inline","ErrorMessage","variant","props","color","whiteSpace","margin","marginBottom","message","FullPageErrorFallback","appData","auth","all","setQueryData","defaultInitialState","useAsync","initialState","initialStateRef","React","useRef","useReducer","s","current","safeSetState","dispatch","mounted","useLayoutEffect","useCallback","useSafeDispatch","setData","setError","reset","run","promise","Error","isIdle","isLoading","isError","isSuccess","AuthContext","createContext","AuthProvider","bootstrapAppData","form","authClient","value","useMemo","Provider","useAuth","context","useContext","displayName","AuthenticatedApp","lazy","UnauthenticatedApp","App","useEffect","setTimeout","$","metisMenu","Suspense","fallback","queryConfig","useErrorBoundary","refetchAllOnWindowFocus","AppProviders","children","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a456124.chunk.js","sourcesContent":["import {queryCache} from 'react-query'\n\nconst localStorageKey = process.env.REACT_APP_APP_NAME;\n\n\nasync function client(endpoint, {data, type, headers: customHeaders, ...customConfig} = {}) {\n\n  const token = window.localStorage.getItem(localStorageKey);\n  let headers;\n  if (type) {\n    headers = {\n      Authorization: token ? `Bearer ${token}` : undefined,\n      //'Content-Type': 'application/json',\n      ...customHeaders,\n    }\n  } else {\n    headers = {\n      Authorization: token ? `Bearer ${token}` : undefined,\n      'Content-Type': data ? 'application/json' : undefined,\n      ...customHeaders,\n    }\n  }\n  const config = {\n    method: data ? 'POST' : 'GET',\n    body: data && !type ? JSON.stringify(data) : data && type ? data : undefined,\n    headers: customConfig.customHeaders ? customConfig.customHeaders : headers,\n  };\n\n  console.log(\" config \", config)\n  return window\n    .fetch(`${endpoint}`, config)\n    .then(async response => {\n      return await response.json()\n    }).catch((err)=>{\n       //logout();\n       //window.location.replace(\"/\");\n      })\n}\n\nfunction logout() {\n  queryCache.clear();\n  window.localStorage.removeItem(localStorageKey);\n}\n\nexport {client, localStorageKey, logout}\n","const BASE_URL = process.env.REACT_APP_BASE_URL;\nconst REACT_APP_BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst LOGIN_URL = `${process.env.REACT_APP_LOGIN_URL}/login`;\nconst REACT_APP_LOGIN_URL = process.env.REACT_APP_LOGIN_URL;\nconst REACT_APP_GOOGLE_API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\n\n\nexport { BASE_URL, LOGIN_URL, REACT_APP_BACKEND_URL, REACT_APP_LOGIN_URL, REACT_APP_GOOGLE_API_KEY };\n\n","import {client, localStorageKey} from './api-client'\nimport * as url from \"../utils/constants\";\nimport {queryCache} from \"react-query\";\nimport toastr from \"toastr\";\n\nasync function handleUserResponse(data) {\n  console.log(\"data \", data)\n  window.localStorage.setItem(localStorageKey, data.token);\n  const user = await getUser();\n  if (user) {\n    return user\n  }\n}\nfunction login({email, password}) {\n  return client(url.LOGIN_URL, {data: {email, password}}).then(handleUserResponse)\n}\nfunction register({username, password}) {\n  return client('register', {data: {username, password}}).then(\n    handleUserResponse,\n  )\n}\nfunction getUser() {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/auth/user`, {data: {token}}).then(data => {\n    console.log(\"GET_USER \", data)\n    if (data.status === \"success\") {\n      return data.user\n    } else {\n      toastr.error(data.error);\n      window.localStorage.clear();\n      return null\n    }\n  })\n}\nfunction getCategory(page) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/category?page=${page}`).then(data => data)\n}\nfunction createCategory(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/category/create`, {data}).then(data => data)\n}\nfunction updateCategory(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/category/update`, {data}).then(data => data)\n}\nfunction uploadCategoryCsv(data) {\n  const token = getToken();\n  let type = \"image\"\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/upload-category-csv`, {data, type}).then(data => data)\n}\nfunction createProductType(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/product-type/create`, {data}).then(data => data)\n}\nfunction getProductType() {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/product-type`).then(data => data)\n}\nfunction updateProductType(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/product-type/update`, {data}).then(data => data)\n}\nfunction uploadProductTypeCsv(data) {\n  const token = getToken();\n  let type = \"image\"\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/upload-product-type-csv`, {data, type}).then(data => data)\n}\nfunction createProduct(data) {\n  let type = \"image\"\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/create`, {data, type}).then(data => data)\n}\nfunction updateProduct(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/update`, {data}).then(data => data)\n}\nfunction updateImage(data) {\n  const token = getToken();\n  let type = \"image\"\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/update-image`, {data, type}).then(data => data)\n}\nfunction uploadProductCsv(data) {\n  const token = getToken();\n  let type = \"image\"\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/upload-product-csv`, {data, type}).then(data => data)\n}\nfunction uploadVariantCsv(data) {\n  const token = getToken();\n  let type = \"image\"\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/upload-variant-csv`, {data, type}).then(data => data)\n}\nfunction removeVariant(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/delete-variant`, {data}).then(data => data)\n}\nfunction updateVariant(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/update-variant`, {data}).then(data => data)\n}\nfunction getProducts(page) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products?page=${page}`).then(data => data)\n}\nfunction removeProduct(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  console.log(data)\n  return client(`${url.BASE_URL}/products/delete`, {data}).then(data => data)\n}\nfunction getProductById(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/products/get/${data}`).then(data => data)\n}\nfunction getAllUsers() {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/users/all-users`).then(data => data)\n}\nfunction getRegistrations() {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/registrations`).then(data => data)\n}\nfunction registerUser(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  return client(`${url.BASE_URL}/auth/user/register`, {data}).then(data => data)\n}\nfunction removeRegistration(data) {\n  const token = getToken();\n  if (!token) {\n    return Promise.resolve(null)\n  }\n  console.log(data)\n  return client(`${url.BASE_URL}/registration-remove`, {data}).then(data => data)\n}\n\nfunction getToken() {\n  let token = window.localStorage.getItem(localStorageKey);\n  if (token) {\n    return token\n  }\n  return null\n}\n\n\nfunction isLoggedIn() {\n  return Boolean(getToken())\n}\n\nfunction logout() {\n  queryCache.clear();\n  window.localStorage.removeItem(localStorageKey);\n}\n\n\nexport {login, register, getToken, isLoggedIn, getUser, getCategory, createCategory,\n  registerUser, getAllUsers, createProduct, getProductType, createProductType, getProducts,\n  removeProduct, getProductById, updateProduct, updateImage, uploadProductCsv, uploadVariantCsv,\n  removeVariant, updateVariant, updateCategory, uploadCategoryCsv, updateProductType, uploadProductTypeCsv,\n  getRegistrations, removeRegistration}\nexport {logout} from './api-client'\n","/** @jsx jsx */\n/** @jsxFrag React.Fragment */\nimport {jsx} from '@emotion/core'\n\nimport {Link as RouterLink} from 'react-router-dom'\nimport styled from '@emotion/styled/macro'\nimport {keyframes} from '@emotion/core'\nimport {Dialog as ReachDialog} from '@reach/dialog'\nimport {FaSpinner} from 'react-icons/fa'\n\nconst spin = keyframes({\n  '0%': {transform: 'rotate(0deg)'},\n  '100%': {transform: 'rotate(360deg)'},\n})\n\n\nconst Spinner = styled(FaSpinner)({\n  animation: `${spin} 1s linear infinite`,\n})\nSpinner.defaultProps = {\n  'aria-label': 'loading',\n}\n\nconst Dialog = styled(ReachDialog)({\n  maxWidth: '450px',\n  borderRadius: '3px',\n  paddingBottom: '3.5em',\n  boxShadow: '0 10px 30px -5px rgba(0, 0, 0, 0.2)',\n  margin: '20vh auto',\n  rex: {\n    width: '100%',\n    margin: '10vh auto',\n  },\n})\n\nconst FormGroup = styled.div({\n  display: 'flex',\n  flexDirection: 'column',\n})\n\nfunction FullPageSpinner() {\n  return (\n      <div\n          css={{\n            fontSize: '4em',\n            height: '100vh',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n      >\n        <div className=\"spinner-border avatar-lg text-primary m-2\" role=\"status\"></div>\n      </div>\n  )\n}\n\nfunction Loader() {\n  return (\n    <div\n      css={{\n        fontSize: '4em',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n    >\n      <div className=\"spinner-border loader-border text-primary m-2\" role=\"status\"></div>\n    </div>\n  )\n}\n\nconst Link = styled(RouterLink)({\n  color: \"indigo\",\n  ':hover': {\n    color: 'dark',\n    textDecoration: 'underline',\n  },\n})\n\nconst errorMessageVariants = {\n  stacked: {display: 'block'},\n  inline: {display: 'inline-block'},\n}\n\nfunction ErrorMessage({error, variant = 'stacked', ...props}) {\n  return (\n      <div\n          role=\"alert\"\n          css={[{color: 'red'}, errorMessageVariants[variant]]}\n          {...props}\n      >\n        <span>There was an error: </span>\n        <pre\n            css={[\n              {whiteSpace: 'break-spaces', margin: '0', marginBottom: -5},\n              errorMessageVariants[variant],\n            ]}\n        >\n        {error.message}\n      </pre>\n      </div>\n  )\n}\n\nfunction FullPageErrorFallback({error}) {\n  return (\n      <div\n          role=\"alert\"\n          css={{\n            color: 'red',\n            height: '100vh',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n      >\n        <p>Uh oh... There's a problem. Try refreshing the app.</p>\n        <pre>{error.message}</pre>\n      </div>\n  )\n}\n\nexport {\n  FullPageErrorFallback,\n  ErrorMessage,\n  Spinner,\n  Dialog,\n  FormGroup,\n  FullPageSpinner,\n  Link,\n  Loader\n}\n","import {queryCache} from 'react-query'\nimport * as auth from './auth-client'\n\n\nasync function bootstrapAppData() {\n  let appData = {user: null};\n  if (auth.isLoggedIn()) {\n    let user = await Promise.all([\n      auth.getUser(),\n    ]);\n    appData = {user};\n  }\n  queryCache.setQueryData('get-users', appData);\n  return appData\n}\n\nexport {bootstrapAppData}\n","import React from 'react'\n\nfunction useSafeDispatch(dispatch) {\n  const mounted = React.useRef(false)\n  React.useLayoutEffect(() => {\n    mounted.current = true\n    return () => (mounted.current = false)\n  }, [])\n  return React.useCallback(\n    (...args) => (mounted.current ? dispatch(...args) : void 0),\n    [dispatch],\n  )\n}\n\n// Example usage:\n// const {data, error, status, run} = useAsync()\n// React.useEffect(() => {\n//   run(fetchPokemon(pokemonName))\n// }, [pokemonName, run])\nconst defaultInitialState = {status: 'idle', data: null, error: null}\nfunction useAsync(initialState) {\n  const initialStateRef = React.useRef({\n    ...defaultInitialState,\n    ...initialState,\n  })\n  const [{status, data, error}, setState] = React.useReducer(\n    (s, a) => ({...s, ...a}),\n    initialStateRef.current,\n  )\n\n  const safeSetState = useSafeDispatch(setState)\n\n  const setData = React.useCallback(\n    data => safeSetState({data, status: 'resolved'}),\n    [safeSetState],\n  )\n  const setError = React.useCallback(\n    error => safeSetState({error, status: 'rejected'}),\n    [safeSetState],\n  )\n  const reset = React.useCallback(() => safeSetState(initialStateRef.current), [\n    safeSetState,\n  ])\n\n  const run = React.useCallback(\n    promise => {\n      if (!promise || !promise.then) {\n        throw new Error(\n          `The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?`,\n        )\n      }\n      safeSetState({status: 'pending'})\n      return promise.then(\n        data => {\n          setData(data)\n          return data\n        },\n        error => {\n          setError(error)\n          return error\n        },\n      )\n    },\n    [safeSetState, setData, setError],\n  )\n\n  return {\n    // using the same names that react-query uses for convenience\n    isIdle: status === 'idle',\n    isLoading: status === 'pending',\n    isError: status === 'rejected',\n    isSuccess: status === 'resolved',\n\n    setData,\n    setError,\n    error,\n    status,\n    data,\n    run,\n    reset,\n  }\n}\n\nexport {useAsync}\n","/** @jsx jsx */\n/** @jsxFrag React.Fragment */\nimport {jsx} from '@emotion/core'\n\nimport React from 'react'\nimport {bootstrapAppData} from '../utils/bootstrap'\nimport * as authClient from '../utils/auth-client'\nimport {useAsync} from '../utils/use-async'\nimport {FullPageSpinner, FullPageErrorFallback} from '../components/lib'\n\nconst AuthContext = React.createContext()\nAuthContext.displayName = 'AuthContext'\n\nfunction AuthProvider(props) {\n  const {\n    data,\n    status,\n    error,\n    isLoading,\n    isIdle,\n    isError,\n    isSuccess,\n    run,\n    setData,\n  } = useAsync()\n\n  React.useLayoutEffect(() => {\n    run(bootstrapAppData())\n  }, [run])\n\n  const login = React.useCallback(form => {\n    authClient.login(form).then(user => setData({user}))\n  }, [setData],);\n  \n  const register = React.useCallback(\n    form => authClient.register(form).then(user => setData({user})),\n    [setData],\n  );\n  \n  const logout = React.useCallback(() => {\n    authClient.logout();\n    setData(null)\n  }, [setData]);\n  \n  \n  const user = data?.user;\n\n  const value = React.useMemo(() => ({user, login, logout, register}), [\n    login,\n    logout,\n    register,\n    user,\n  ])\n\n  if (isLoading || isIdle) {\n    return <FullPageSpinner />\n  }\n\n  if (isError) {\n    return <FullPageErrorFallback error={error} />\n  }\n\n  if (isSuccess) {\n    return <AuthContext.Provider value={value} {...props} />\n  }\n\n  throw new Error(`Unhandled status: ${status}`)\n}\n\nfunction useAuth() {\n  const context = React.useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error(`useAuth must be used within a AuthProvider`)\n  }\n  return context\n}\n\nexport {AuthProvider, useAuth}\n","import React, {useEffect} from 'react'\nimport {useAuth} from './context/auth-context'\nimport {FullPageSpinner} from './components/lib'\nconst AuthenticatedApp = React.lazy(() => import('./authenticated-app'),)\nconst UnauthenticatedApp = React.lazy(() => import('./unauthenticated-app'))\n\nfunction App() {\n  \n  useEffect(()=>{\n    setTimeout(()=>{\n      window.$(\"#side-menu\").metisMenu()\n    }, 1000)\n  },[]);\n  \n  const {user} = useAuth();\n  \n  return (\n      <React.Suspense fallback={<FullPageSpinner />}>\n        {user ? <AuthenticatedApp /> : <UnauthenticatedApp />}\n      </React.Suspense>\n  )\n}\n\nexport {App}\n","import React from 'react'\n\nimport {ReactQueryConfigProvider} from 'react-query'\nimport {AuthProvider} from './auth-context'\n\nconst queryConfig = {\n  useErrorBoundary: true,\n  refetchAllOnWindowFocus: false,\n}\n\nfunction AppProviders({children}) {\n  return (\n    <ReactQueryConfigProvider config={queryConfig}>\n      \n        <AuthProvider>{children}</AuthProvider>\n     \n    </ReactQueryConfigProvider>\n  )\n}\n\nexport {AppProviders}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport \"toastr/build/toastr.min.css\";\nimport {App} from './App'\nimport {AppProviders} from './context'\n\n\nReactDOM.render(\n    \n    <AppProviders>\n      <App />\n    </AppProviders>,\n    document.getElementById('root'),\n);\n\n\n"],"sourceRoot":""}